# Babylon Domain Ontology
# Defines terms as used in THIS project - not general definitions

meta:
  version: "1.2.0"
  updated: "2025-12-09"
  purpose: "Canonical definitions for domain terms in Babylon"

# =============================================================================
# THEORETICAL FRAMEWORK (MLM-TW)
# =============================================================================

theoretical_terms:

  mlm_tw:
    full_name: "Marxist-Leninist-Maoist Third Worldist"
    definition: >
      Theoretical framework holding that revolution in imperial core nations
      is structurally impossible while imperial rent extraction continues.
      The global proletariat is primarily located in the periphery.
    key_insight: "First World workers benefit from imperialism, creating labor aristocracy"
    in_game: "Determines which regions can achieve revolutionary rupture"

  imperial_rent:
    symbol: "Φ"
    definition: >
      The difference between wages paid to core workers (W_c) and value they produce (V_c).
      Φ = W_c - V_c. When Φ > 0, core workers receive more than their labor creates,
      extracted from peripheral exploitation.
    formula: "Φ = W_c - V_c"
    in_game: "Core mechanic determining revolutionary potential by region"

  labor_aristocracy:
    definition: >
      Working class segment in imperial core that benefits from imperial rent.
      Material interest aligned with capital against global proletariat.
    in_game: "Class category with high wages but low revolutionary potential"

  unequal_exchange:
    definition: >
      Mechanism by which value flows from periphery to core through trade.
      Peripheral labor is systematically undervalued relative to core labor.
    in_game: "Modifies resource flows between locations"

  contradiction:
    definition: >
      Dialectical tension between opposing forces that drives historical change.
      Not a "problem to solve" but a structural dynamic that intensifies or resolves.
    types:
      - antagonistic: "Cannot be resolved within current system (capital vs labor)"
      - non_antagonistic: "Can be resolved through reform (tactical disagreements)"
    in_game: "Primary driver of events, crises, and potential ruptures"

  rupture:
    definition: >
      Revolutionary break with existing order. Occurs when P(S|R) > P(S|A) -
      probability of survival through revolution exceeds survival through acquiescence.
    conditions: "Organization/Repression > Sigmoid(Wealth - Subsistence)"
    in_game: "Win condition for revolutionary factions"

  hegemony:
    definition: >
      Gramsci's concept: ruling class power through cultural/ideological control,
      not just coercion. Control over what counts as "common sense."
    in_game: "Planned as wiki control mechanic - factions control narrative"

  atomization:
    definition: >
      Destruction of organic social bonds, replacing them with market relations.
      Workers isolated from each other, unable to organize collectively.
    in_game: "Reduces organization capacity, increases acquiescence"
    range: "[0, 1] - 0 is strong community, 1 is total isolation"
    drivers:
      - "Consumer culture and individualism"
      - "Gig economy and precarious work"
      - "Social media replacing physical community"
      - "Geographic mobility breaking local ties"
    effect: "Blocks collective action regardless of consciousness level"

  super_wages:
    definition: >
      Wages exceeding the value produced by the worker (W > V).
      Funded by imperial rent extracted from periphery.
      The material basis for false consciousness in the core.
    formula: "W_core = V_core + Φ (imperial rent share)"
    in_game: "Core workers receive super-wages, breeding loyalty to imperialism"
    key_insight: "The bomb factory pays well. That's the problem."

  comprador:
    definition: >
      Local bourgeoisie in periphery who facilitate imperial extraction.
      Intermediaries between core capital and peripheral labor.
      "Native informants" who enable neo-colonial exploitation.
    synonyms: ["comprador bourgeoisie", "national bourgeoisie (dependent faction)"]
    in_game: "Extracts from periphery workers, pays tribute to core"
    role: "Bridge enabling global value transfer"

  false_consciousness:
    definition: >
      Ideological state where class interests are obscured.
      Workers support systems that exploit them due to material benefits,
      nationalist ideology, or failure to perceive global class dynamics.
    causes:
      material: "Super-wages (W > V) breed satisfaction"
      ideological: "Nationalism competes with class identity"
      structural: "Atomization prevents collective awareness"
    in_game: "Core workers drift toward false consciousness when W > V"
    note: "Not 'stupidity' - has material basis in imperial rent"

  imperial_circuit:
    definition: >
      The global flow of value from periphery to core.
      Periphery workers create value → Comprador extracts →
      Core bourgeoisie receives tribute → Super-wages to core workers.
    components:
      - "Periphery exploitation (local extraction)"
      - "Tribute transfer (imperial rent flow)"
      - "Super-wage distribution (core worker bribery)"
    in_game: "4-node model: P_w → P_c → C_b → C_w"
    reference: "ai-docs/imperial-circuit.yaml"

  national_identity:
    definition: >
      Identification with nation over class.
      "American worker" vs "worker who happens to be American."
      Competes with class consciousness for allegiance.
    in_game: "Variable [0,1] in IdeologicalProfile, competing with class_consciousness"
    dynamics:
      crisis: "Tends to spike during economic crisis when solidarity is absent (scapegoating)"
      prosperity: "Can coexist with mild class awareness"
    danger: "High national_identity without class_consciousness = fascism"
    routing: "Agitation without solidarity → national_identity increase"

  fascist_bifurcation:
    definition: >
      The divergence where material crisis leads to either Revolutionary Consciousness
      (if Solidarity infrastructure is present) or Fascist/Nativist reaction
      (if Solidarity infrastructure is absent).
    mechanism: |
      When wages fall (crisis), agitation energy is generated via loss aversion.
      This energy must flow somewhere:
      - With SOLIDARITY edges: routes to class_consciousness (revolutionary awakening)
      - Without SOLIDARITY edges: routes to national_identity (fascist reaction)
    key_insight: "Fascism is the defensive form of capitalism."
    in_game: "Core mechanic of Sprint 3.4.3 George Jackson Refactor"
    formula: "calculate_ideological_routing(wage_change, solidarity_pressure, current_profile)"
    historical_examples:
      - "Weimar Germany: Crisis + atomization → Nazi movement"
      - "1930s Spain: Crisis + solidarity → Popular Front"
      - "2008 USA: Crisis + weak labor → Tea Party/MAGA"

  agitation:
    definition: >
      Raw political energy generated by material crisis (typically falling wages).
      Scalar magnitude without direction - the direction comes from routing.
    formula: "agitation = abs(wage_change) × LOSS_AVERSION_LAMBDA"
    range: "[0, ∞) - accumulates during crisis, routes into consciousness vectors"
    in_game: "Third field in IdeologicalProfile, represents unrouted political energy"
    key_insight: |
      Agitation is potential energy. It can become either revolution or fascism.
      The presence or absence of solidarity infrastructure determines the routing.
      "Agitation without solidarity produces fascism, not revolution."

# =============================================================================
# TERRITORIAL TERMS (Layer 0 - Phase 3.5)
# =============================================================================

territorial_terms:

  strategic_sector:
    definition: >
      The fundamental unit of territory in the Spatial Graph.
      A geographic area with distinct class character and economic function.
    examples:
      - "Slums: High proletarian density, low surveillance, subversive potential"
      - "Financial District: Bourgeois control, high surveillance, capital concentration"
      - "Factory Zone: Site of production, labor organization potential"
      - "University Quarter: Petty-bourgeois, ideological contestation"
    in_game: "Nodes in Spatial Graph (Layer 0) onto which Social Graph nodes anchor"
    key_attributes:
      - "terrain_type: Urban, Rural, Industrial, Commercial"
      - "legal_owner: Faction holding Legal title"
      - "de_facto_controller: Faction with actual operational control"
      - "surveillance_level: Detection probability for subversive activity"

  subversive_tenancy:
    definition: >
      The state of holding De Facto control of a Strategic Sector while an
      enemy faction holds Legal control. The "parasite" operates within
      the "host's" territory without formal recognition.
    dynamics:
      - "Host: Legal owner, can trigger Eviction if Suspicion threshold crossed"
      - "Parasite: De Facto controller, builds power while avoiding detection"
      - "Suspicion accumulates from visible activity, informants, random events"
    in_game: "Enables modeling underground movements, dual power, infiltration"
    historical_examples:
      - "Bolsheviks operating in Tsarist Russia"
      - "Black Panthers in US cities"
      - "Labor unions in hostile jurisdictions"

  suspicion:
    definition: >
      Metric measuring the Host's awareness of Parasite activity in a
      Strategic Sector. When Suspicion crosses threshold, Eviction Event
      triggers - Host attempts to expel Parasite from territory.
    range: "[0, 1] - 0 is undetected, 1 is certain knowledge"
    drivers:
      increasing:
        - "Visible organizing activity"
        - "Informant reports"
        - "Failed covert actions"
        - "Association with known subversives"
      decreasing:
        - "Successful cover operations"
        - "Bribing/eliminating informants"
        - "Low activity periods"
        - "Misdirection campaigns"
    in_game: "Determines risk of Eviction Event - forced expulsion from sector"

  eviction_event:
    definition: >
      Triggered when Suspicion crosses threshold. Host faction attempts
      to expel Parasite faction from Strategic Sector. Outcome depends on
      relative Repression capacity vs Organization/Cohesion.
    outcomes:
      - "Successful Eviction: Parasite loses territorial foothold"
      - "Failed Eviction: Host expends resources, Parasite strengthens"
      - "Negotiated Exit: Parasite relocates, preserves some capacity"
    in_game: "High-stakes event resolving territorial contestation"

  enclosure:
    definition: >
      The process of converting communal/informal tenure to private/formal tenure.
      Primitive accumulation mechanism - dispossessing communities of land access.
    historical_reference: "English Enclosure Acts, ongoing global land grabs"
    in_game: "Mechanic for modeling gentrification, land reform, privatization"
    effects:
      - "Displaces existing population (often proletarian)"
      - "Increases property values (benefits bourgeoisie)"
      - "Destroys informal social networks (atomization)"
      - "Creates resistance potential (dispossessed have nothing to lose)"

# =============================================================================
# ARCHITECTURAL TERMS
# =============================================================================

architecture_terms:

  the_ledger:
    definition: "SQLite/Pydantic layer storing rigid, material state"
    contains: "Economics, resources, turn history, quantitative facts"
    location: "src/babylon/data/game/ (JSON files), src/babylon/models/ (Pydantic)"
    principle: "Source of truth for material reality"

  the_topology:
    definition: "NetworkX layer storing fluid, relational state"
    contains: "Class solidarity, factional tensions, supply chains"
    location: "src/babylon/models/world_state.py (to_graph/from_graph), src/babylon/systems/formulas.py"
    note: "core/economy.py and core/politics.py DELETED per ADR011"
    principle: "Relationships change faster than material base"

  the_archive:
    definition: "ChromaDB/RAG layer storing semantic history"
    contains: "Past events, theoretical texts, narrative context"
    location: "src/babylon/rag/"
    principle: "AI observes and narrates, doesn't control mechanics"

  simulation_engine:
    definition: "Pure transformation engine: WorldState → Calculation → WorldState"
    location: "src/babylon/engine/simulation_engine.py"
    key_method: "step(state: WorldState, config: SimulationConfig) -> WorldState"
    systems:
      - "ImperialRentSystem (economic.py)"
      - "ConsciousnessSystem (ideology.py)"
      - "SurvivalSystem (survival.py)"
      - "ContradictionSystem (contradiction.py)"
    principle: "Engine doesn't decide anything. Calculates and sets things in motion."

  service_container:
    definition: "Dependency injection container for simulation services"
    location: "src/babylon/engine/services.py"
    services: ["config", "database", "event_bus", "formulas"]
    principle: "Systems receive services, don't create them"

  entity:
    definition: "Any game object with an ID and attributes"
    types: "character, faction, location, resource, technology, etc."
    principle: "Always Pydantic models, never raw dicts"

  effect:
    definition: "A modification to game state"
    structure: "{target, attribute, operation, magnitude, description}"
    operations: ["increase", "decrease", "modify", "set", "intensify", "resolve"]

# =============================================================================
# GAME ENTITIES
# =============================================================================

entity_terms:

  faction:
    definition: "Organized political force with interests and capabilities"
    examples: "Revolutionary party, bourgeois state, labor union, corporation"
    key_attributes: ["class_composition", "military_capacity", "dialectical_relationships"]

  class:
    definition: "Relationship to means of production, not income level"
    categories:
      - bourgeoisie: "Owns means of production"
      - proletariat: "Sells labor power"
      - petty_bourgeoisie: "Small owners, professionals"
      - peasantry: "Agricultural producers"
      - lumpenproletariat: "Outside formal economy"
      - labor_aristocracy: "Core workers benefiting from imperial rent"

  movement:
    definition: "Organized effort toward political change"
    distinct_from: "Faction (movements are broader, less structured)"

  crisis:
    definition: "Acute manifestation of contradictions"
    types: "Economic, political, legitimacy, ecological"
    in_game: "Triggers events, intensifies contradictions"

# =============================================================================
# DATA TERMS
# =============================================================================

data_terms:

  json_schema:
    definition: "Draft 2020-12 schemas validating all game data"
    location: "src/babylon/schemas/"
    structure: "core/ (shared defs), entities/ (17 types), collections/ (wrappers)"

  collection:
    definition: "JSON file containing array of entities plus metadata envelope"
    envelope: "{version, generatedAt, sourceFormat, [entities]}"
    location: "src/babylon/data/game/*.json"

  id_patterns:
    faction: "F001, F002, ..."
    resource: "R001, R002, ..."
    technology: "T001, T002, ..."
    location: "L001, L001A, ..."
    contradiction: "CON001, CON002, ..."
    character: "snake_case_name"

# =============================================================================
# DISAMBIGUATION
# =============================================================================

disambiguation:

  "class":
    programming: "Python class - use 'Python class' or 'class definition'"
    game: "Social class - use 'social class' or reference specific (proletariat, etc.)"

  "state":
    political: "The state apparatus - use 'state apparatus' or 'political state'"
    programming: "Application state - use 'game state' or 'app state'"

  "contradiction":
    general: "Any conflict - NOT this meaning in Babylon"
    dialectical: "Structural tension driving change - THIS meaning in Babylon"

  "revolution":
    general: "Any big change"
    babylon: "Rupture event where oppressed class seizes power from oppressor"
